{% extends 'base.html' %}

{% block title %}
Connect'Art 
{% endblock %}

{% block menu %}
<nav id="header-nav-droite3">

{% if photo_ids_list %}
    <a href="{{ url_for('home.landing_page', photo_ids_list=photo_ids_list) }}">Galerie</a>
{% elif photo_list %}
    <a href="{{ url_for('home.landing_page', photo_ids_list=photo_list) }}">Galerie</a>
{% else %}
    <a href="{{ url_for('home.landing_page') }}">Galerie</a>
{% endif %}

{% if g.user['photo_profil'] %}
    <a href="{{url_for('user.show_profile')}}"><img class= "logo_profil" src="{{ g.user['photo_profil'] }}" alt="Profil"></a>
{% else %}
  <a href="{{url_for('user.show_profile')}}"><img class= "logo_profil" src="{{ url_for('static', filename='imgs/Profil.png') }}" alt="Profil"></a>
{% endif %}
 
<a><img id = "menu-toggle3" src="{{ url_for('static', filename='imgs/Filtre.png') }}" alt="Filtre"></a>
</nav>
<div id="menu3" class="menu3 hidden">
    <form id="Filtrer_form" method="POST" action="{{ url_for('creation.filtrer') }}">
        {% for categories in categories %}
            <input type="button" class="Filtrerboutons" value="{{ categories.nom }}" data-id="{{ categories.id_categorie }}">
        {% endfor %}
        <button type="submit" class="submit-button">Filtrer</button>
    </form>
    
</div>
{% endblock %}

{% block content %}
<div id= "affichage"> 
        <div id= "arrièrephotoagrandie">
        {% if photoagrandie %}
            <img id="photoagrandie" src="{{ photoagrandie.chemin_fichier }}">    
        {% else %}
            <p>Oups, aucune image disponible!</p>
        {% endif %}
        </div>
        <div id= "descrition">
        {% if photoagrandie['description_oeuvre'] %}
            <a>{{ photoagrandie['description_oeuvre'] }}</a>
        {% else %}
            <a>Aucune description pour cette image!</a>
        {% endif %}
        </div>
    
        <!--minie galerie-->
            {% if photo %}
            <div id="galerierapetissie">
{% if photo_ids_list %}
    {% for photo in photo %}
        <a href="{{ url_for('creation.affichage', photogrand_id=photo['id_oeuvre'], photo_ids_list=photo_ids_list) }}">
            <img class="imagerapetissie" src="{{ photo.chemin_fichier }}" alt="Oeuvres">
        </a>
    {% endfor %}
{% elif photo_list %}
    {% for photo in photo %}
        <a href="{{ url_for('creation.affichage', photogrand_id=photo['id_oeuvre'], photo_list=photo_list) }}">
            <img class="imagerapetissie" src="{{ photo.chemin_fichier }}" alt="Oeuvres">
        </a>
    {% endfor %}
{% else %}
    {% for photo in photo %}
        <a href="{{ url_for('creation.affichage', photogrand_id=photo['id_oeuvre']) }}">
            <img class="imagerapetissie" src="{{ photo.chemin_fichier }}" alt="Oeuvres">
        </a>
    {% endfor %}
{% endif %}
            </div>
            {% else %}
            <div id="pasgalerierapetissie">
                <img class="pascreations" src="{{ url_for('static', filename='imgs/Pasphoto.png') }}" alt="Clée">
                <div class="Aucuneautrecreation">Aucune autre </br> création</div>
            </div> 
            {% endif %}
        <!-- fin minie gelarie-->
    <div class="createur">
        {% if user['photo_profil'] %}
        <a href={{url_for('user.show_autreprofile', user=photoagrandie['utilisateur'])}}><img id= "createurphoto"  src="{{user['photo_profil']}}" alt="Clée"></a>
        {% else %}
        <a href={{url_for('user.show_autreprofile', user=photoagrandie['utilisateur'])}}><img id= "createurphoto"  src="{{ url_for('static', filename='imgs/Profil.png') }}"  alt="Clée"></a>
       {% endif %}  
        <div class="createur">
        <a href={{url_for('user.show_autreprofile', user=photoagrandie['utilisateur'])}}>{{user['nom_utilisateur']}}</a>
        <a>-</a>
        {% if categorie_oeuvre %}
        {% for categorie in categorie_oeuvre %}
            <a href="{{ url_for('creation.filtrer_rapide', categorie_id=categorie.id_categorie) }}">
                {{ categorie.nom }}
            </a>
            {% if not loop.last %} - {% endif %}
        {% endfor %}
        {% else %}
         <a> Aucune catégorie </a>
        {% endif %}

        </div>
    </div>
</div>         
{% endblock %}